# ===============================
# ALL PROFILES
# ===============================

spring:
  cache:
    caches:
      authenticationCache:
        time-to-live: 300000
    jcache:
      config: classpath:ehcache.xml
      jpa:
        properties:
          javax:
            missing_cache_strategy: create
            persistence:
              sharedCache:
                mode: ENABLE_SELECTIVE
          hibernate:
            cache:
              use_second_level_cache: true
              region:
                factory_class: org.hibernate.cache.jcache.JCacheRegionFactory
  jackson:
    serialization:
      fail-on-empty-beans: false
  mvc:
    pathmatch:
      matching-strategy: ant_path_matcher
  main:
    allow-circular-references: true
  datasource:
    url: jdbc:postgresql://localhost:5432/testing_harness_tool
    username: postgres
    password: argusadmin
  jpa:
    properties:
      org.hibernate.envers.default_revision_entity_name: "CustomRevisionEntity"
      org:
        hibernate:
          envers:
            do_not_audit_optimistic_locking_field: false
      hibernate:
        envers:
          strategy:
            DefaultAuditStrategy
        jdbc:
          lob.non_contextual_creation: true
        dialect: org.hibernate.dialect.PostgreSQLDialect
    hibernate:
      ddl-auto: update
      generate-ddl: true
  flyway:
    enabled: false
    baseline-on-migrate: true
    schemas:
      - public
    table: tht_schema_history
    baseline-version: 0.1
    out-of-order: true
    locations: classpath:db/migration
  security:
    oauth2:
      client:
        registration:
          google:
            clientId: 997632152085-pp4ofm9tqfk5149giq4utb54m24et4ig.apps.googleusercontent.com
            clientSecret: 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
            scope:
              - email
              - profile
            redirect-uri: https://tht.argusoft.com/api/login/oauth2/code/google
  servlet:
    multipart:
      max-file-size: 2MB

server:
  servlet:
    context-path: /api
  port: 8081
# ===============================
# LOGGING
# ===============================
logging:
  level:
    org.springframework.http: INFO
    org.springframework.web: INFO
    org.flywaydb.core: INFO
    org:
      hibernate:
        SQL: DEBUG
        type:
          descriptor:
            sql:
              BasicBinder: TRACE

exception:
  stack-trace:
    enabled: true

tht-file:
  location: /srv/tht/files

captcha:
   false

frontend:
    google.success: /google/success